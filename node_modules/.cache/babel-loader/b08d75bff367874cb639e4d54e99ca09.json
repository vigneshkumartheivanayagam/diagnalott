{"ast":null,"code":"var _jsxFileName = \"/home/vignesh/personal/diagnal-ott-without-tailwind/src/views/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport Header from '../Header';\nimport Contents from './Contents';\nimport { useDispatch } from 'react-redux';\nimport { addContents } from \"../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  let hasMore = true;\n  let page = 1;\n  React.useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    window['scrollTo']({\n      top: 0,\n      behavior: 'smooth'\n    });\n    setTimeout(function () {\n      getContent();\n    }, 1000);\n    return () => {\n      page = 1;\n      hasMore = true;\n    };\n  }, []);\n\n  const getContent = async () => {\n    if (hasMore) {\n      let url = 'data/CONTENTLISTINGPAGE-PAGE' + page + '.json';\n      const result = await axios.get(url);\n\n      if (result !== undefined && result !== null && result.status !== undefined && result.status !== null && result.status === 200 && result.data !== undefined && result.data !== null && result.data.page !== undefined && result.data.page !== null && result.data.page['content-items'] !== undefined && result.data.page['content-items'] !== null && result.data.page['content-items'].content !== undefined && result.data.page['content-items'].content !== null && result.data.page['content-items'].content.length > 0) {\n        page = parseInt(page) + 1;\n        dispatch(addContents(result.data.page['content-items'].content));\n      } else {\n        hasMore = false;\n      }\n    }\n  };\n\n  const handleScroll = e => {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      getContent();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container contentsection\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Contents, {\n          getContent: getContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/vignesh/personal/diagnal-ott-without-tailwind/src/views/Home/index.js"],"names":["React","axios","Header","Contents","useDispatch","addContents","Home","props","dispatch","hasMore","page","useEffect","window","addEventListener","handleScroll","top","behavior","setTimeout","getContent","url","result","get","undefined","status","data","content","length","parseInt","e","innerHeight","scrollY","document","body","offsetHeight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport Header from '../Header'\nimport Contents from './Contents'\nimport { useDispatch } from 'react-redux'\nimport { addContents } from \"../../actions\"\n\nfunction Home(props) {\n\n    const dispatch = useDispatch()\n    let hasMore = true\n    let page = 1\n\n    React.useEffect(() => {\n        window.addEventListener('scroll', handleScroll)\n        window['scrollTo']({ top: 0, behavior: 'smooth' })\n\n        setTimeout(function() {\n            getContent()\n        }, 1000)\n\n        return () => {\n            page = 1\n            hasMore = true\n        }\n    }, [])\n\n    const getContent = async () => {\n\n        if (hasMore) {\n            let url = 'data/CONTENTLISTINGPAGE-PAGE' + page+'.json'\n            const result = await axios.get(url);\n            if (result !== undefined && result !== null && result.status !== undefined && result.status !== null && result.status === 200 && result.data !== undefined && result.data !== null && result.data.page !== undefined && result.data.page !== null && result.data.page['content-items'] !== undefined && result.data.page['content-items'] !== null && result.data.page['content-items'].content !== undefined && result.data.page['content-items'].content !== null && result.data.page['content-items'].content.length > 0) {\n                page = parseInt(page) + 1\n                dispatch(addContents(result.data.page['content-items'].content))\n            } else {\n                hasMore = false\n            }\n        }\n    }\n\n    const handleScroll = (e) => {\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n            getContent()\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <Header />\n            <div className=\"container contentsection\">\n                <div id='content'>\n                    <Contents getContent={getContent} />\n                </div>\n            </div>\n        </React.Fragment>\n        \n    )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}